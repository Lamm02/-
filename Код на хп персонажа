 using UnityEngine;

public class HealthSystem : MonoBehaviour
{
    [Header("Настройки здоровья")]
    [SerializeField] private float maxHealth = 6f; // Максимальное здоровье
    [SerializeField] private float currentHealth;    // Текущее здоровье


    void Start()
    {
        // Инициализация здоровья
        currentHealth = maxHealth;

    }

    public void TakeDamage(float damageAmount)
    {

        currentHealth -= damageAmount;


        if (currentHealth <= 0)
        {
            currentHealth = 0;
            Die();
        }
        Debug.Log(gameObject.name + " получил" + damageAmount +" урона");

    }


    public void Heal(float healAmount)
    {

        currentHealth += healAmount;
        if (currentHealth > maxHealth)
        {
            currentHealth = maxHealth;
        }
        Debug.Log(gameObject.name + " отхилил" + healAmount + " хп");

    }


    public void SetMaxHealth(float newMaxHealth)
    {
        maxHealth = newMaxHealth;
        if (currentHealth > maxHealth)
        {
            currentHealth = maxHealth;
        }
    }


    private void Die()
    {
        Debug.Log(gameObject.name + " умер!");

         Destroy(gameObject);

    }



    public float GetCurrentHealth()
    {
        return currentHealth;
    }

    public float GetMaxHealth()
    {
        return maxHealth;
    }

    public float GetHealthPercentage()
    {
        return currentHealth / maxHealth;
    }
}
